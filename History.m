load EAA.erb -mat
whos
CenterFreq
edit pitchmodel5
[y,Fs]=wavread('DLVchoir1.wav');
pitchmodel6(y(:,1),Fs,199);
whos
pitchmodel6(y(:,1),Fs,199);
pitchmodel7(y(:,1),Fs,199);
pitchmodel7
clear all
pitchmodel7
plot(b(9,:))
close all
plot(b(9,:))
plot(b(9,481:961))
[mini,index]=min(b(9,481:961))
index(1)
[maxi,index2]=max(b(9,481+index(1)-1:961))
hold on
plot(index(1)+index2(2),maxi,'+')
plot(index(1)+index2(1),maxi,'+')
plot(index(1)+index2(1)-1,maxi,'+')
edit pitchmodel7
pitchmodel7
whos
c
d
c./Fs
Fs./c
CenterFreq
edit note2
note2(550)
[n1,n2]=note2(550)
[n1,n2,n3]=note3(550)
[n1,n2,n3,n4]=note3(550)
[n1,n2,n3,n4]=note3(264)
edit note3
[n1,n2,n3,n4]=note3(264)
[n1,n2,n3,n4]=note3(275)
pitchmodel7
whos
e
d
e(8)
e(9)
e(11)
e(12)
pitchmodel7
close all
clear all
pitchmodel7
e(12)
e(11)
d
e
disp([e(12) ',' intstr(f(12))])
disp([e(12) ',' int2str(f(12))])
disp([e(12) : intstr(f(12))])
disp([e(12) ':' intstr(f(12))])
disp([e(12) ':' int2str(f(12))])
disp([e(12) : int2str(f(12))])
disp([cahr(e(12)) ':' int2str(f(12))])
disp([char(e(12)) ':' int2str(f(12))])
disp([char(e(10)) ':' int2str(f(10))])
[chroma,cname,oct,cents]=note3(440)
[chroma,cname,oct,cents]=note3(264)
[chroma,cname,oct,cents]=note3(262)
disp([char(e(10)) ':' int2str(f(10))])
disp([char(e(10)) ': ' int2str(f(10))])
disp([char(e(10)) ', '  int2str(d(10)) ' amp, ' int2str(f(10)) 'c'])
disp([char(e(10)) ', '  int2str(d(10)) ' amp, ' int2str(f(10)) ' c'])
pitchmodel7
clear all
close all
pitchmodel7
close all
pitchmodel7
dir
edit PitchBatch5
help wavwrite
PitchBatch6
edit pitchmodel7
pitchmodel7(x,Fs,199);
clear all
[y,Fs]=wavread('sine1000.wav');
pitchmodel7(y,Fs,199);
PitchBatch6
[y,Fs]=wavread('sine220.wav');
pitchmodel7(y,Fs,199);
[y,Fs]=wavread('comp220.wav');
pitchmodel7(y,Fs,199);
[y,Fs]=wavread('noise.wav');
pitchmodel7(y,Fs,199);
clear all
[y,Fs]=wavread('comp220.wav');
pitchmodel7(y,Fs,199);
[y2,Fs]=wavread('comp1000.wav');
pitchmodel7(y+y2,Fs,199);
y=comp1f(220);
pitchmodel7(y,Fs,199);
y
plot(y)
close all
plot(y)
pitchmodel7(y,Fs,199);
close all
edit comp1f
edit PitchBatch6
y=comp1f(220);
pitchmodel7(y,Fs,199);
[y2,Fs]=wavread('comp1000.wav');
pitchmodel7(y2,Fs,199);
y=comp1f(220);
close all
pitchmodel7(y2,Fs,199);
pitchmodel7(y,Fs,199);
edti comp1f
edit comp1f
y=comp1f(220);
pitchmodel7(y,Fs,199);
y=comp1f(220);
wavwrite(y,Fs,'comp220t');
[y,Fs]=wavread('comp220t.wav');
pitchmodel7(y,Fs,199);
y=comp1f(220);
pitchmodel7(y,Fs,199);
pitchmodel7(y*32000,Fs,199);
close all
[y,Fs]=wavread('comp220.wav');
pitchmodel7(y*32000,Fs,199);
pitchmodel7(y,Fs,199);
clear all
[y,Fs]=wavread('comp220t.wav');
pitchmodel7(y,Fs,199);
clear all
close all
y=comp1f(220);
wavwrite(y,Fs,'comp220f');
Fs=48000;
wavwrite(y,Fs,'comp220f');
clear all
y=comp1f(800);
wavwrite(y,Fs,'comp800f');
Fs=48000;
wavwrite(y,Fs,'comp800f');
clear all
[y,Fs]=wavread('comp220f.wav');
pitchmodel7(y,Fs,199);
[y,Fs]=wavread('comp220.wav');
pitchmodel7(y,Fs,199);
close all
[y,Fs]=wavread('comp220f.wav');
pitchmodel7(y,Fs,199);
edit comp1f
clear all
Fs=48000;
y=comp1f(220);
wavwrite(y,Fs,'comp220f');
[y,Fs]=wavread('comp220f.wav');
pitchmodel7(y,Fs,199);
clear all
y=comp1f(880);
y=comp1f(512);
wavwrite(y,Fs,'comp512f');
Fs=48000;
wavwrite(y,Fs,'comp512f');
[y,Fs]=wavread('comp512f.wav');
pitchmodel7(y,Fs,199);
[y2,Fs]=wavread('comp220f.wav');
pitchmodel7(y2+y,Fs,199);
y=comp1f(512);
pitchmodel7(y',Fs,199);
y2=comp1f(220);
pitchmodel7(y'+y2',Fs,199);
y=comp1f(493);
pitchmodel7(y'+y2',Fs,199);
CenterFreq
edit pitchmodel7
pitchmodel7(y'+y2',Fs,199);
y=comp1f(263);
pitchmodel7(y'+y2',Fs,199);
y=comp1f(234);
y2=comp1f(293);
pitchmodel7(y'+y2',Fs,199);
close all
edit pitchmodel7
pitchmodel7(y'+y2',Fs,199);
[y2,Fs]=wavread('comp220.wav');
pitchmodel7(y2,Fs,199);
y2=comp1f(293);
pitchmodel7(y'+y2',Fs,199);
y2=comp1f(277);
pitchmodel7(y'+y2',Fs,199);
clear all
cd('C:\Users\User\Desktop\PolyPitch')
testerb_EAA
edit testerb_EAA
testerb_poly
CenterFreq
whos
clear all
load poly.erb -mat
whos
cd('C:\Users\User\Desktop\Lec5Pitch')
edit pitchmodel7
load poly.erb -mat
pitchmodel8(y'+y2',Fs,199);
y2=comp1f(277);
y=comp1f(234);
pitchmodel8(y'+y2',Fs,199);
Fs=48000
pitchmodel8(y'+y2',Fs,199);
close all
clear all
pitchmodel8(comp1f(220)'+comp1f(262)',Fs,199);
pitchmodel8(comp1f(220)'+comp1f(262)',48000,199);
pitchmodel8(comp1f(220)'+comp1f(277)'+comp1f(330)',48000,199);
edit pitchmodel8
edit testerb_poly
testerb_poly
clear all
testerb_poly
clear all
testerb_poly
clear all
testerb_poly
whos
pitchmodel9(comp1f(220)'+comp1f(277)'+comp1f(330)',48000,199);
edit pitchmodel8
pitchmodel9(comp1f(220)'+comp1f(277)'+comp1f(330)',48000,199);
edit pitchmodel7
pitchmodel9(comp1f(220)'+comp1f(277)'+comp1f(330)',48000,199);
pitchmodel9(comp1f(220)'+comp1f(277)'+comp1f(330)'+comp1f(880)',48000,199);
close all
edit pitchmodel9
pitchmodel9(comp1f(220)'+comp1f(277)'+comp1f(330)'+comp1f(880)',48000,199);
[y,Fs]=wavread('DLVchoir1.wav');
pitchmodel9(y,48000,199);
close all
pitchmodel9(y,48000,199);
pitchmodel9(comp1f(220)'+comp1f(277)'+comp1f(330)'+comp1f(880)',48000,199);
pitchmodel9(comp1f(277)',48000,199);
close all
%-- 11/24/2012 10:34 PM --%
cd('C:\Users\User\Desktop\Lec5Pitch')
pitchmodel9(comp1f(277)',48000,199);
whos
edit pitchmodel9
pitchmodel10(comp1f(277)',48000,199);
load test
whos
plot(c,'+')
plot(d,'+')
plot(e,'+')
plot(f,'+')
plot(n3,'+')
plot(Fs./c,'+')
plot(Fs./c,d,'+')
plot(d,'+')
plot(CenterFreq,d,'+')
plot(CenterFreq(!:56),d,'+')
plot(CenterFreq(1:56),d,'+')
semilogx(CenterFreq(1:56),d,'+')
semilogx(CenterFreq(1:56),(g/d,'+')
semilogx(CenterFreq(1:56),g/d,'+')
pitchmodel10(comp1f(220)'+comp1f(277)'+comp1f(330)'+comp1f(880)',48000,199);
semilogx(CenterFreq(1:56),d,'+')
load test
semilogx(CenterFreq(1:56),d,'+')
axis([100 20000 0 15000]);
semilogx(CenterFreq(1:56),d,'k-')
axis([100 20000 0 15000]);
hold on
plot(Fs./c,d,'r+')
index=find(g/d>0.95)
index=find((g/d)>0.95)
g/d
whos
g/d
g./d
index=find((g./d)>0.95)
plot(Fs./c(index),d(index),'r+')
index2=find((g./d)<=0.95)
plot(Fs./c(index2),d(index2),'g*')
pitchmodel10(comp1f(220)'+comp1f(277)'+comp1f(330)'+comp1f(880)',48000,199);
close all
pitchmodel10(comp1f(220)'+comp1f(277)'+comp1f(330)',48000,199);
pitchmodel10(comp1f(220)'+comp1f(277)'+comp1f(330)'+comp1f(880)',48000,199);
pitchmodel10(comp1f(880)',48000,199);
pitchmodel10(comp1f(440)',48000,199);
[y,Fs]=wavread('DLVchoir1.wav');
pitchmodel10(y,48000,199);
d
sqrt(d)
pitchmodel10(y,48000,199);
pitchmodel10(randn(48000,1),48000,199);
axis([100 20000 0 1.2*max(d2)]);
pitchmodel10(comp1f(220)'+comp1f(277)'+comp1f(330)'+comp1f(880)',48000,199);
close all
pitchmodel10(comp1f(220)'+comp1f(277)'+comp1f(330)'+comp1f(880)',48000,199);
load test
pitchmodel10(comp1f(220)'+comp1f(277)'+comp1f(330)'+comp1f(880)',48000,199);
load test
plot(CenterFreq(1:56),bb,'r-')
plot(CenterFreq(1:56),bb*100,'r-')
plot(CenterFreq(1:56),bb*20,'r-')
close all
plot(CenterFreq(1:56),bb*20,'r-')
pitchmodel10(comp1f(220)'+comp1f(277)'+comp1f(330)'+comp1f(880)',48000,199);
load test
plot(CenterFreq(1:56),bb*20,'r-')
plot(CenterFreq(1:56),bb,'r-')
edit PitchBatch6
pitchmodel10(gensine(880,1,Fs)',48000,199);
close all
pitchmodel10(gensine(880,1,Fs)',48000,199);
pitchmodel10(comp1f(880)',48000,199);
pitchmodel10(comp1f(220)'+comp1f(277)'+comp1f(330)'+comp1f(880)',48000,199);
edit comp1f
pitchmodel10(comp1f(220)'+comp1f(277)'+comp1f(330)'+comp1f(880)',48000,199);
pitchmodel10(comp1f(220)'+comp1f(262)'+comp1f(330)'+comp1f(880)',48000,199);
pitchmodel10(comp1f(220)'+comp1f(262)'+comp1f(330)',48000,199);
%-- 11/25/2012 11:44 AM --%
cd('C:\Users\User\Desktop\Lec5Pitch')
whos
pitchmodel10(comp1f(220)'+comp1f(262)'+comp1f(330)',48000,199);
edit note3
o=log2(880)-log2(440)
o=log2(660)-log2(440)
o=log2(512)-log2(440)
o=log2(587)-log2(440)
o=log2(330)-log2(440)
abs(log2(330)-log2(440))
edit pitchmodel10
pitchmodel11(comp1f(220)'+comp1f(262)'+comp1f(330)',48000,199);
pitchmodel11(comp1f(220)',48000,199);
edit comp1f
pitchmodel11(comp1f(220)',48000,199);
pitchmodel11(comp1f(220)'+comp1f(262)'+comp1f(330)',48000,199);
pitchmodel11(comp1f(220)'+comp1f(262)'+comp1f(330)'+comp1f(880)',48000,199);
[y,Fs]=wavread('Bach1.wav');
whos
pitchmodel11(y(:,1)',48000,199);
pitchmodel11(y(:,1),48000,199);
[y,Fs]=wavread('Bach1.wav');
[y,Fs]=wavread('Bach2.wav');
pitchmodel11(y(:,1),48000,199);
axis([20 20000 0 5]);
axis([20 20000 -90 5]);
[y,Fs]=wavread('Bach4.wav');
whos
Y=y(1:48000);
pitchmodel11(Y,48000,199);
pitchmodel11(y(48000:48000+4800,1),48000,199);
pitchmodel11(y(48000:48000+480,1),48000,199);
pitchmodel11(y(48000:48000+4800,1),48000,199);
edit pitchmodel11
pitchmodel11(y(48000:48000+4800,1),48000,199);
[freq,peakheight,peakratio]=pitchmodel11(y(48000:48000+4800,1),48000,199);
whos
freq
peakratio
[values,index]=sort(peakratio)
help sort
[values,index]=sort(peakratio,1,'descend')
[values,index]=sort(peakratio,2,'descend')
freq(index)
log2(960)-log2(12632)
log2(960)-log2(1263)
[values,index]=sort(freq,2,'ascend')
freq(index)
log2(320)-log2(freq(index))
abs(log2(320)-log2(freq(index)))
abs(log2(320)-log2(freq))
index2=find(abs(log2(320)-log2(freq))>0.3)
index2=find(abs(log2(freq(7))-log2(freq))>0.3)
index2=find(abs(log2(freq(12))-log2(freq))>0.3)
index2=find(abs(log2(freq(17))-log2(freq))>0.3)
edit testthis
Columns 14 throu
testthis
freq2
testthis
freqSel
pitchmodel11(y(48000:48000+4800,1),48000,199);
load test
whos
FreqSel
freqSel
pitchmodel11(comp1f(220)'+comp1f(262)'+comp1f(330)'+comp1f(880)',48000,199);
load test
freqSel
pitchmodel11(comp1f(220)'+comp1f(262)'+comp1f(330)'+comp1f(880)',48000,199);
close all
pitchmodel12(comp1f(220)'+comp1f(262)'+comp1f(330)'+comp1f(880)',48000,199);
pitchmodel12(comp1f(220)'+comp1f(262)'+comp1f(330)'+comp1f(880)',48000,199);[freqSel2,maxSel,ratioSel]=
[freqSel2,maxSel,ratioSel]=pitchmodel12(comp1f(220)'+comp1f(262)'+comp1f(330)'+comp1f(880)',48000,199);
freqSel2
maxSel
ratioSel
clear all
close all
[freqSel2,maxSel,ratioSel]=pitchmodel12(comp1f(220)'+comp1f(262)'+comp1f(330)'+comp1f(880)',48000,199);
freqSel2
maxSel
ratioSel
[freqSel,maxSel,ratioSel,freqSel2,maxSel2,ratioSel2]=pitchmodel12(comp1f(220)'+comp1f(262)'+comp1f(330)'+comp1f(880)',48000,199);
closeall
close all
[freqSel,maxSel,ratioSel,freqSel2,maxSel2,ratioSel2]=pitchmodel12(comp1f(220)'+comp1f(262)'+comp1f(330)'+comp1f(880)',48000,199);
ratioSel2
freqSel2
maxSel2
[freqSel,maxSel,ratioSel,freqSel2,maxSel2,ratioSel2]=pitchmodel12(comp1f(220)'+comp1f(262)'+comp1f(330)'+comp1f(880)',48000,199);
edit testrun
[freqSel2,maxSel,ratioSel]=pitchmodel12(comp1f(220)'+comp1f(262)'+comp1f(330)'+comp1f(880)',48000,
[y,Fs]=wavread('Bach4.wav');
y2=resample(y,48000,Fs);
wavwrite(y2,48000,'Bach4b');
y=y2;
whos
1501177/4800
floor(1501177/4800)
testrun
whos
plot(freq1','+')
plot(freq1,'+')
plot(freq1,'k.')
plot(freq2,'k.')
close all
plot(freq1,'k.')
hold on
plot(freq2,'r.')
